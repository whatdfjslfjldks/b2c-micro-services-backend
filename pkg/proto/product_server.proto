syntax="proto3";

package proto;
option go_package = "./product-server;product_server_proto";


service ProductService{
  // TODO: ceshi 获取商品列表
  rpc GetProductList(GetProductListRequest) returns (GetProductListResponse);
  // 注意限制文件大小，不能超过5MB，以免影响通信速度，估算，excel不能超过500行（实际可以1500行左右吧）
  // TODO 身份校验
  rpc UploadProductByExcel(UploadProductByExcelRequest) returns (UploadProductByExcelResponse);
}
message UploadProductByExcelRequest{
  bytes file = 1;
}
message UploadProductByExcelResponse{
  int32 code=1;
  string status_code=2;
  string msg=3;
}
message GetProductListRequest{
  int32 currentPage = 1;
  int32 pageSize = 2;
  // 前后端维护一个种类id对应表
  int32 categoryId = 3;
  // 前后端维护一个价格区间对应表
  int32 priceRange = 4;
}
message GetProductListResponse{
  int32 code=1;
  string status_code=2;
  string msg=3;

  int32 currentPage = 4;
  int32 pageSize = 5;
  int32 totalItems = 6;
  repeated ProductListItem productList = 7;
}
message ProductListItem{
  int32 product_id = 1;
  string product_name = 2;
  string product_cover = 3;
  double product_price = 4;
  int32 product_categoryId = 5;
  string description = 6;
}

